DELIMITER $$
DROP PROCEDURE IF EXISTS getBillByCode$$
CREATE PROCEDURE getBillByCode ( IN code CHAR(40) ) 
BEGIN 
SELECT title,status,url,code,open FROM bills
WHERE code = bill_code;
END  $$

DROP PROCEDURE IF EXISTS updateBillStatus$$ 
CREATE PROCEDURE updateBillStatus ( IN updatedStatus CHAR(50) ) 
BEGIN 
UPDATE bills SET status = updatedStatus 
WHERE code = bill_code;
END  $$

DROP PROCEDURE IF EXISTS insertBill$$ 
CREATE PROCEDURE insertBill ( IN title TEXT , IN status VARCHAR(50) , IN url TEXT , IN code VARCHAR(50) , IN local_html TEXT , IN open VARCHAR(5) , IN local_json TEXT , IN local_xml TEXT , IN isLargeBill CHAR(1) , IN isAppropiationBill CHAR(1) ) 
BEGIN 
INSERT INTO bills (isAppropiationBill,local_json,open,title,status,isLargeBill,code,local_xml,url,local_html) VALUES (is_appropiation_bill , local_json , open , title , status , is_large_bill , code , local_xml , url , local_html) ;
END $$

DROP PROCEDURE IF EXISTS deleteBillByCode$$
CREATE PROCEDURE deleteBillByCode ( IN deleteCode CHAR(40) ) 
BEGIN 
DELETE FROM bills
WHERE code = deleteCode;
END  $$

DROP PROCEDURE IF EXISTS makeBillLargeBill$$ 
CREATE PROCEDURE makeBillLargeBill ( IN isLargeBill CHAR(1) , IN billid MEDIUMINT ) 
BEGIN 
UPDATE bills SET is_large_bill = isLargeBill 
WHERE billid = id;
END  $$

DROP PROCEDURE IF EXISTS makeBillAppropiationBill$$ 
CREATE PROCEDURE makeBillAppropiationBill ( IN isAppropiationBill CHAR(1) , IN billid MEDIUMINT ) 
BEGIN 
UPDATE bills SET is_appropiation_bill = isAppropiationBill 
WHERE billid = id;
END  $$

DROP PROCEDURE IF EXISTS setUnapprovedOrganizationStatus$$ 
CREATE PROCEDURE setUnapprovedOrganizationStatus ( IN organization_id MEDIUMINT , IN status VARCHAR(20) ) 
BEGIN 
UPDATE unapproved_profiles SET status = status 
WHERE organization_id = organization_id;
END  $$

DROP PROCEDURE IF EXISTS setUnapprovedIndividualStatus$$ 
CREATE PROCEDURE setUnapprovedIndividualStatus ( IN individual_id MEDIUMINT , IN status VARCHAR(20) ) 
BEGIN 
UPDATE unapproved_profiles SET status = status 
WHERE individual_id = individual_id;
END  $$

DROP PROCEDURE IF EXISTS deleteUnapprovedOrganization$$
CREATE PROCEDURE deleteUnapprovedOrganization ( IN organization_id MEDIUMINT ) 
BEGIN 
DELETE FROM unapproved_profiles
WHERE organization_id = organization_id;
END  $$

DROP PROCEDURE IF EXISTS deleteUnapprovedIndividual$$
CREATE PROCEDURE deleteUnapprovedIndividual ( IN individual_id MEDIUMINT ) 
BEGIN 
DELETE FROM unapproved_profiles
WHERE individual_id = individual_id;
END  $$

DROP PROCEDURE IF EXISTS deleteAdmin$$
CREATE PROCEDURE deleteAdmin ( IN email VARCHAR(50) ) 
BEGIN 
DELETE FROM admins
WHERE email = email;
END  $$

DROP PROCEDURE IF EXISTS insertAdmin$$ 
CREATE PROCEDURE insertAdmin ( IN email VARCHAR(50) , IN password VARCHAR(128) , IN salt VARCHAR(128) ) 
BEGIN 
INSERT INTO admins (email,salt,password) VALUES (email , salt , password) ;
END $$

DROP PROCEDURE IF EXISTS updateBillVote$$ 
CREATE PROCEDURE updateBillVote ( IN billId MEDIUMINT(9) , IN reddit MEDIUMINT(9) , IN google MEDIUMINT(9) , IN facebook MEDIUMINT(9) , IN twitter MEDIUMINT(9) , IN linkedin MEDIUMINT(9) ) 
BEGIN 
UPDATE bill_votes SET reddit = reddit , twitter = twitter , google = google , facebook = facebook , linkedin = linkedin 
WHERE billId = billId;
END  $$

DROP PROCEDURE IF EXISTS insertBillVote$$ 
CREATE PROCEDURE insertBillVote ( IN billId MEDIUMINT(9) , IN reddit MEDIUMINT(9) , IN google MEDIUMINT(9) , IN facebook MEDIUMINT(9) , IN twitter MEDIUMINT(9) , IN linkedin MEDIUMINT(9) ) 
BEGIN 
INSERT INTO bill_votes (twitter,billId,reddit,facebook,google,linkedin) VALUES (twitter , billId , reddit , facebook , google , linkedin) ;
END $$

DROP PROCEDURE IF EXISTS updateBillComment$$ 
CREATE PROCEDURE updateBillComment ( IN user MEDIUMINT(9) , IN comment VARCHAR(200) , IN sub_comment VARCHAR(200) , IN comment_post_date DATE , IN sub_comment_post_date DATE ) 
BEGIN 
UPDATE comments_bills SET comment_post_date = comment_post_date , comment = comment , sub_comment = sub_comment , sub_comment_post_date = sub_comment_post_date , user = user 
WHERE id = id;
END  $$

DROP PROCEDURE IF EXISTS insertBillComment$$ 
CREATE PROCEDURE insertBillComment ( IN user MEDIUMINT(9) , IN comment VARCHAR(200) , IN sub_comment VARCHAR(200) , IN comment_post_date DATE , IN sub_comment_post_date DATE ) 
BEGIN 
INSERT INTO comments_bills (sub_comment,comment_post_date,user,comment,sub_comment_post_date) VALUES (sub_comment , comment_post_date , user , comment , sub_comment_post_date) ;
END $$

DROP PROCEDURE IF EXISTS deleteBillComment$$
CREATE PROCEDURE deleteBillComment ( IN id MEDIUMINT(9) ) 
BEGIN 
DELETE FROM comments_bill
WHERE id = id;
END  $$

DROP PROCEDURE IF EXISTS insertIndividual$$ 
CREATE PROCEDURE insertIndividual ( IN first_name VARCHAR(50) , IN last_name VARCHAR(50) , IN username VARCHAR(30) , IN birthdate DATE , IN gender CHAR(1) , IN address VARCHAR(200) , IN city VARCHAR(200) , IN state VARCHAR(100) , IN zip MEDIUMINT , IN email VARCHAR(128) , IN password VARCHAR(100) , IN political_affiliation VARCHAR(30) , IN activated VARCHAR(5) , IN salt VARCHAR(128) ) 
BEGIN 
INSERT INTO individuals (activated,political_affiliation,state,salt,birthdate,last_name,email,zip,first_name,username,address,city,gender,password) VALUES (activated , political_affiliation , state , salt , birthdate , last_name , email , zip , first_name , username , address , city , gender , password) ;
END $$

DROP PROCEDURE IF EXISTS deleteIndividual$$
CREATE PROCEDURE deleteIndividual ( IN id MEDIUMINT(9) ) 
BEGIN 
DELETE FROM individuals
WHERE id = id;
END  $$

DROP PROCEDURE IF EXISTS deleteNewsItem$$
CREATE PROCEDURE deleteNewsItem ( IN title TEXT ) 
BEGIN 
DELETE FROM news
WHERE title = title;
END  $$

DROP PROCEDURE IF EXISTS insertNewsItem$$ 
CREATE PROCEDURE insertNewsItem ( IN title TEXT , IN news_url TEXT , IN photo TEXT , IN category TEXT , IN category_index MEDIUMINT(9) ) 
BEGIN 
INSERT INTO news (photo,news_url,category_index,category,title) VALUES (photo , news_url , category_index , category , title) ;
END $$

DROP PROCEDURE IF EXISTS insertOrganization$$ 
CREATE PROCEDURE insertOrganization ( IN name VARCHAR(50) , IN address VARCHAR(200) , IN city VARCHAR(200) , IN state VARCHAR(100) , IN zip MEDIUMINT , IN phone VARCHAR(100) , IN legal_status VARCHAR(100) , IN cause_concerns VARCHAR(30) , IN join_reason VARCHAR(500) , IN individual_name VARCHAR(300) , IN title_in_organization VARCHAR(300) , IN personal_phone VARCHAR(20) , IN email VARCHAR(40) , IN password VARCHAR(128) , IN salt VARCHAR(128) , IN verified VARCHAR(5) , IN signup_date DATE ) 
BEGIN 
INSERT INTO organizations (legal_status,title_in_organization,join_reason,zip,address,cause_concerns,signup_date,individual_name,verified,name,password,city,state,personal_phone,salt,phone,email) VALUES (legal_status , title_in_organization , join_reason , zip , address , cause_concerns , signup_date , individual_name , verified , name , password , city , state , personal_phone , salt , phone , email) ;
END $$

DROP PROCEDURE IF EXISTS deleteOrganization$$
CREATE PROCEDURE deleteOrganization ( IN id MEDIUMINT(9) ) 
BEGIN 
DELETE FROM organizations
WHERE id = id;
END  $$

DROP PROCEDURE IF EXISTS insertProposal$$ 
CREATE PROCEDURE insertProposal ( IN individual_id MEDIUMINT , IN name VARCHAR(50) , IN concern VARCHAR(200) , IN category1 VARCHAR(100) , IN category2 VARCHAR(100) , IN category3 VARCHAR(100) , IN created DATE , IN verified VARCHAR(1) , IN description TEXT ) 
BEGIN 
INSERT INTO proposals (verified,created,category2,category3,concern,name,category1,individual_id,description) VALUES (verified , created , category2 , category3 , concern , name , category1 , individual_id , description) ;
END $$

DROP PROCEDURE IF EXISTS deleteProposal$$
CREATE PROCEDURE deleteProposal ( IN id MEDIUMINT(9) ) 
BEGIN 
DELETE FROM proposals
WHERE id = id;
END  $$

DROP PROCEDURE IF EXISTS insertReportedComment$$ 
CREATE PROCEDURE insertReportedComment ( IN submitted_by VARCHAR(100) , IN date DATE , IN relevant_bill MEDIUMINT , IN status VARCHAR(20) ) 
BEGIN 
INSERT INTO reported_comments (date,relevant_bill,status,submitted_by) VALUES (date , relevant_bill , status , submitted_by) ;
END $$

DROP PROCEDURE IF EXISTS deleteReportedComment$$
CREATE PROCEDURE deleteReportedComment ( IN id MEDIUMINT(9) ) 
BEGIN 
DELETE FROM reported_comments
WHERE id = id;
END  $$

DROP PROCEDURE IF EXISTS insertRepresentative$$ 
CREATE PROCEDURE insertRepresentative ( IN name 	varchar(50) , IN state 	varchar(50) , IN url 	text , IN email 	varchar(50) , IN phone 	varchar(20) , IN photo 	varchar(60) , IN chamber varchar(50) ) 
BEGIN 
INSERT INTO representatives (email,state,url,phone,name,photo,chamber) VALUES (email , state , url , phone , name , photo , chamber) ;
END $$

DROP PROCEDURE IF EXISTS deleteRepresentative$$
CREATE PROCEDURE deleteRepresentative ( IN id MEDIUMINT(9) ) 
BEGIN 
DELETE FROM representatives
WHERE id = id;
END  $$

DROP PROCEDURE IF EXISTS insertStaticPage$$ 
CREATE PROCEDURE insertStaticPage ( IN page_title text , IN text_blob1 text , IN text_blob2 text , IN text_blob3 text , IN text_blob4 text , IN picture1 text , IN picture2 text , IN picture3 text , IN picture4 text ) 
BEGIN 
INSERT INTO static_pages (picture4,text_blob1,text_blob4,text_blob2,picture1,page_title,text_blob3,picture2,picture3) VALUES (picture4 , text_blob1 , text_blob4 , text_blob2 , picture1 , page_title , text_blob3 , picture2 , picture3) ;
END $$

DROP PROCEDURE IF EXISTS deleteStaticPage$$
CREATE PROCEDURE deleteStaticPage ( IN id MEDIUMINT(9) ) 
BEGIN 
DELETE FROM static_pages
WHERE id = id;
END  $$

DROP PROCEDURE IF EXISTS insertUserVote$$ 
CREATE PROCEDURE insertUserVote ( IN billId MEDIUMINT(9) , IN user_id MEDIUMINT(9) , IN organization_id MEDIUMINT(9) , IN vote varchar(200) , IN date DATE ) 
BEGIN 
INSERT INTO user_votes (date,user_id,billId,vote,organization_id) VALUES (date , user_id , billId , vote , organization_id) ;
END $$

DROP PROCEDURE IF EXISTS deleteUserVote$$
CREATE PROCEDURE deleteUserVote ( IN id MEDIUMINT(9) ) 
BEGIN 
DELETE FROM user_votes
WHERE id = id;
END  $$

DROP PROCEDURE IF EXISTS insertWallOfAmerica$$ 
CREATE PROCEDURE insertWallOfAmerica ( IN user MEDIUMINT , IN date DATE , IN dream VARCHAR(200) , IN wish VARCHAR(200) ) 
BEGIN 
INSERT INTO wall_of_america (dream,user,wish,date) VALUES (dream , user , wish , date) ;
END $$

DROP PROCEDURE IF EXISTS deleteWallOfAmericaEntry$$
CREATE PROCEDURE deleteWallOfAmericaEntry ( IN id MEDIUMINT(9) ) 
BEGIN 
DELETE FROM wall_of_america
WHERE id = id;
END  $$

DROP PROCEDURE IF EXISTS getUserVote$$
CREATE PROCEDURE getUserVote ( IN userId MEDIUMINT(9) ) 
BEGIN 
SELECT billId,user_id,organization_id,vote,date FROM user_votes
WHERE userId = user_id;
END  $$

DROP PROCEDURE IF EXISTS getOrganizationVote$$
CREATE PROCEDURE getOrganizationVote ( IN organizationId MEDIUMINT(9) ) 
BEGIN 
SELECT billId,user_id,organization_id,vote,date FROM user_votes
WHERE organizationId = organization_id;
END  $$

DELIMITER ;
